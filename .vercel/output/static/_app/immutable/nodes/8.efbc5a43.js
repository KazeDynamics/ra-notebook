import{S as le,i as ne,s as ie,e as v,t as V,a as D,x as J,c as g,b as h,d as L,f as i,g as O,y as K,o as r,h as oe,j as e,z as Q,A as ce,r as W,v as X,B as Z,E as ee,F as te}from"../chunks/index.12c65bb6.js";import{e as fe}from"../chunks/forms.f29cd588.js";import{I as re}from"../chunks/Input.159a4e01.js";import{t as ae}from"../chunks/toast.28380f4f.js";import"../chunks/functions.93e96281.js";function se(p){let t,o,l,n,m,c,f;return{c(){t=v("div"),o=v("div"),l=ee("svg"),n=ee("path"),m=D(),c=v("span"),f=V("You must verify your email before you can login."),this.h()},l(b){t=g(b,"DIV",{class:!0});var E=h(t);o=g(E,"DIV",{});var k=h(o);l=te(k,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var a=h(l);n=te(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(n).forEach(i),a.forEach(i),m=O(k),c=g(k,"SPAN",{});var _=h(c);f=L(_,"You must verify your email before you can login."),_.forEach(i),k.forEach(i),E.forEach(i),this.h()},h(){r(n,"stroke-linecap","round"),r(n,"stroke-linejoin","round"),r(n,"stroke-width","2"),r(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"class","stroke-current flex-shrink-0 h-6 w-6"),r(l,"fill","none"),r(l,"viewBox","0 0 24 24"),r(t,"class","alert alert-error shadow-lg w-full max-w-lg")},m(b,E){oe(b,t,E),e(t,o),e(o,l),e(l,n),e(o,m),e(o,c),e(c,f)},d(b){b&&i(t)}}}function ue(p){let t,o,l,n,m,c,f,b,E,k,a,_,S,$,j,A,I,T,z,B,y,M,N,F,Y,q;_=new re({props:{type:"email",id:"email",label:"Email",value:p[0]?.data?.email??"",errors:p[0]?.errors?.email,disabled:p[1]}}),$=new re({props:{type:"password",id:"password",label:"Password",errors:p[0]?.errors?.password,disabled:p[1]}});let u=p[0]?.notVerified&&se();return{c(){t=v("div"),o=v("h2"),l=V("Login to your account"),n=D(),m=v("p"),c=V("Or "),f=v("a"),b=V("register"),E=V(" if you don't already have an account."),k=D(),a=v("form"),J(_.$$.fragment),S=D(),J($.$$.fragment),j=D(),A=v("div"),I=v("a"),T=V("Forgot Password?"),z=D(),B=v("div"),y=v("button"),M=V("Login"),N=D(),u&&u.c(),this.h()},l(s){t=g(s,"DIV",{class:!0});var d=h(t);o=g(d,"H2",{class:!0});var P=h(o);l=L(P,"Login to your account"),P.forEach(i),n=O(d),m=g(d,"P",{class:!0});var x=h(m);c=L(x,"Or "),f=g(x,"A",{href:!0,class:!0});var C=h(f);b=L(C,"register"),C.forEach(i),E=L(x," if you don't already have an account."),x.forEach(i),k=O(d),a=g(d,"FORM",{action:!0,method:!0,class:!0});var w=h(a);K(_.$$.fragment,w),S=O(w),K($.$$.fragment,w),j=O(w),A=g(w,"DIV",{class:!0});var H=h(A);I=g(H,"A",{href:!0,class:!0});var R=h(I);T=L(R,"Forgot Password?"),R.forEach(i),H.forEach(i),z=O(w),B=g(w,"DIV",{class:!0});var U=h(B);y=g(U,"BUTTON",{type:!0,class:!0});var G=h(y);M=L(G,"Login"),G.forEach(i),U.forEach(i),N=O(w),u&&u.l(w),w.forEach(i),d.forEach(i),this.h()},h(){r(o,"class","mt-2 text-center text-3xl font-bold tracking-tight text-base-content"),r(f,"href","/register"),r(f,"class","text-primary font-medium hover:cursor-pointer hover:underline"),r(m,"class","text-center mt-1"),r(I,"href","/reset-password"),r(I,"class","font-medium text-primary hover:cursor-pointer hover:underline"),r(A,"class","w-full max-w-lg"),r(y,"type","submit"),r(y,"class","btn btn-primary w-full"),y.disabled=p[1],r(B,"class","w-full max-w-lg pt-2"),r(a,"action","?/login"),r(a,"method","POST"),r(a,"class","flex flex-col items-center space-y-2 w-full pt-4"),r(t,"class","flex flex-col items-center h-full w-full pt-8")},m(s,d){oe(s,t,d),e(t,o),e(o,l),e(t,n),e(t,m),e(m,c),e(m,f),e(f,b),e(m,E),e(t,k),e(t,a),Q(_,a,null),e(a,S),Q($,a,null),e(a,j),e(a,A),e(A,I),e(I,T),e(a,z),e(a,B),e(B,y),e(y,M),e(a,N),u&&u.m(a,null),F=!0,Y||(q=ce(fe.call(null,a,p[2])),Y=!0)},p(s,[d]){const P={};d&1&&(P.value=s[0]?.data?.email??""),d&1&&(P.errors=s[0]?.errors?.email),d&2&&(P.disabled=s[1]),_.$set(P);const x={};d&1&&(x.errors=s[0]?.errors?.password),d&2&&(x.disabled=s[1]),$.$set(x),(!F||d&2)&&(y.disabled=s[1]),s[0]?.notVerified?u||(u=se(),u.c(),u.m(a,null)):u&&(u.d(1),u=null)},i(s){F||(W(_.$$.fragment,s),W($.$$.fragment,s),F=!0)},o(s){X(_.$$.fragment,s),X($.$$.fragment,s),F=!1},d(s){s&&i(t),Z(_),Z($),u&&u.d(),Y=!1,q()}}}function de(p,t,o){let{form:l}=t,n=!1;const m=()=>(o(1,n=!0),async({result:c,update:f})=>{switch(c.type){case"success":await f();break;case"invalid":ae.error("Invalid credentials"),await f();break;case"error":ae.error(c.error.message);break;default:await f()}o(1,n=!1)});return p.$$set=c=>{"form"in c&&o(0,l=c.form)},[l,n,m]}class _e extends le{constructor(t){super(),ne(this,t,de,ue,ie,{form:0})}}export{_e as component};
