import{S as X,i as Z,s as x,e as g,t as k,a as C,x as T,c as _,b,d as O,f as c,g as U,y as A,o as u,h as I,j as o,z as D,r as P,v as V,B as H,A as Q,n as Y}from"../chunks/index.12c65bb6.js";import{e as W,a as G,i as J}from"../chunks/forms.f29cd588.js";import{I as j}from"../chunks/Input.159a4e01.js";import{M as K}from"../chunks/Modal.6ff41404.js";import{t as L}from"../chunks/toast.28380f4f.js";import"../chunks/functions.93e96281.js";function ee(l){let e,t,r,s,d,i,h,p;return t=new j({props:{id:"email",type:"email",label:"Enter your new email address",required:!0,value:l[0]?.data?.email,disabled:l[4],errors:l[0]?.errors?.email}}),{c(){e=g("form"),T(t.$$.fragment),r=C(),s=g("button"),d=k("Change my email"),this.h()},l(n){e=_(n,"FORM",{action:!0,method:!0,class:!0});var a=b(e);A(t.$$.fragment,a),r=U(a),s=_(a,"BUTTON",{type:!0,class:!0});var m=b(s);d=O(m,"Change my email"),m.forEach(c),a.forEach(c),this.h()},h(){u(s,"type","submit"),u(s,"class","btn btn-primary w-full"),s.disabled=l[4],u(e,"action","?/updateEmail"),u(e,"method","POST"),u(e,"class","space-y-2")},m(n,a){I(n,e,a),D(t,e,null),o(e,r),o(e,s),o(s,d),i=!0,h||(p=Q(W.call(null,e,l[5])),h=!0)},p(n,a){const m={};a&1&&(m.value=n[0]?.data?.email),a&16&&(m.disabled=n[4]),a&1&&(m.errors=n[0]?.errors?.email),t.$set(m),(!i||a&16)&&(s.disabled=n[4])},i(n){i||(P(t.$$.fragment,n),i=!0)},o(n){V(t.$$.fragment,n),i=!1},d(n){n&&c(e),H(t),h=!1,p()}}}function te(l){let e,t;return{c(){e=g("span"),t=k("Change Email"),this.h()},l(r){e=_(r,"SPAN",{slot:!0,class:!0});var s=b(e);t=O(s,"Change Email"),s.forEach(c),this.h()},h(){u(e,"slot","trigger"),u(e,"class","btn btn-primary")},m(r,s){I(r,e,s),o(e,t)},p:Y,d(r){r&&c(e)}}}function ae(l){let e,t;return{c(){e=g("h3"),t=k("Change Your Email"),this.h()},l(r){e=_(r,"H3",{slot:!0});var s=b(e);t=O(s,"Change Your Email"),s.forEach(c),this.h()},h(){u(e,"slot","heading")},m(r,s){I(r,e,s),o(e,t)},p:Y,d(r){r&&c(e)}}}function se(l){let e,t,r,s,d,i,h,p;return t=new j({props:{id:"username",type:"text",label:"Enter your new username",required:!0,value:l[0]?.data?.username,disabled:l[4],errors:l[0]?.errors?.username}}),{c(){e=g("form"),T(t.$$.fragment),r=C(),s=g("button"),d=k("Change my username"),this.h()},l(n){e=_(n,"FORM",{action:!0,method:!0,class:!0});var a=b(e);A(t.$$.fragment,a),r=U(a),s=_(a,"BUTTON",{type:!0,class:!0});var m=b(s);d=O(m,"Change my username"),m.forEach(c),a.forEach(c),this.h()},h(){u(s,"type","submit"),u(s,"class","btn btn-primary w-full"),s.disabled=l[4],u(e,"action","?/updateUsername"),u(e,"method","POST"),u(e,"class","space-y-2")},m(n,a){I(n,e,a),D(t,e,null),o(e,r),o(e,s),o(s,d),i=!0,h||(p=Q(W.call(null,e,l[6])),h=!0)},p(n,a){const m={};a&1&&(m.value=n[0]?.data?.username),a&16&&(m.disabled=n[4]),a&1&&(m.errors=n[0]?.errors?.username),t.$set(m),(!i||a&16)&&(s.disabled=n[4])},i(n){i||(P(t.$$.fragment,n),i=!0)},o(n){V(t.$$.fragment,n),i=!1},d(n){n&&c(e),H(t),h=!1,p()}}}function re(l){let e,t;return{c(){e=g("span"),t=k("Change Username"),this.h()},l(r){e=_(r,"SPAN",{slot:!0,class:!0});var s=b(e);t=O(s,"Change Username"),s.forEach(c),this.h()},h(){u(e,"slot","trigger"),u(e,"class","btn btn-primary")},m(r,s){I(r,e,s),o(e,t)},p:Y,d(r){r&&c(e)}}}function ne(l){let e,t;return{c(){e=g("h3"),t=k("Change Your Username"),this.h()},l(r){e=_(r,"H3",{slot:!0});var s=b(e);t=O(s,"Change Your Username"),s.forEach(c),this.h()},h(){u(e,"slot","heading")},m(r,s){I(r,e,s),o(e,t)},p:Y,d(r){r&&c(e)}}}function le(l){let e,t,r,s,d,i,h,p,n,a,m,q,B,M,F,w,R,y,N;return p=new K({props:{label:"change-email",checked:l[2],$$slots:{heading:[ae],trigger:[te],default:[ee]},$$scope:{ctx:l}}}),w=new j({props:{id:"username",label:"Username",value:l[1]?.user?.username,disabled:!0}}),y=new K({props:{label:"change-username",checked:l[3],$$slots:{heading:[ne],trigger:[re],default:[se]},$$scope:{ctx:l}}}),{c(){e=g("div"),t=g("div"),r=g("h3"),s=k("Change Email"),d=C(),i=g("div"),h=C(),T(p.$$.fragment),n=C(),a=g("div"),m=g("h3"),q=k("Change Username"),B=C(),M=g("div"),F=C(),T(w.$$.fragment),R=C(),T(y.$$.fragment),this.h()},l(f){e=_(f,"DIV",{class:!0});var $=b(e);t=_($,"DIV",{class:!0});var v=b(t);r=_(v,"H3",{class:!0});var S=b(r);s=O(S,"Change Email"),S.forEach(c),d=U(v),i=_(v,"DIV",{class:!0}),b(i).forEach(c),h=U(v),A(p.$$.fragment,v),v.forEach(c),n=U($),a=_($,"DIV",{class:!0});var E=b(a);m=_(E,"H3",{class:!0});var z=b(m);q=O(z,"Change Username"),z.forEach(c),B=U(E),M=_(E,"DIV",{class:!0}),b(M).forEach(c),F=U(E),A(w.$$.fragment,E),R=U(E),A(y.$$.fragment,E),E.forEach(c),$.forEach(c),this.h()},h(){u(r,"class","text-2xl font-medium"),u(i,"class","divider"),u(t,"class","w-full"),u(m,"class","text-2xl font-medium"),u(M,"class","divider mb-0.5"),u(a,"class","w-full"),u(e,"class","flex flex-col w-full h-full space-y-12")},m(f,$){I(f,e,$),o(e,t),o(t,r),o(r,s),o(t,d),o(t,i),o(t,h),D(p,t,null),o(e,n),o(e,a),o(a,m),o(m,q),o(a,B),o(a,M),o(a,F),D(w,a,null),o(a,R),D(y,a,null),N=!0},p(f,[$]){const v={};$&4&&(v.checked=f[2]),$&145&&(v.$$scope={dirty:$,ctx:f}),p.$set(v);const S={};$&2&&(S.value=f[1]?.user?.username),w.$set(S);const E={};$&8&&(E.checked=f[3]),$&145&&(E.$$scope={dirty:$,ctx:f}),y.$set(E)},i(f){N||(P(p.$$.fragment,f),P(w.$$.fragment,f),P(y.$$.fragment,f),N=!0)},o(f){V(p.$$.fragment,f),V(w.$$.fragment,f),V(y.$$.fragment,f),N=!1},d(f){f&&c(e),H(p),H(w),H(y)}}}function oe(l,e,t){let{form:r}=e,{data:s}=e,d,i,h;const p=()=>(t(4,h=!0),t(2,d=!0),async({result:a})=>{switch(a.type){case"success":L.success("Email updated"),await J(),t(2,d=!1);break;case"error":break;default:await G(a)}t(4,h=!1)}),n=()=>(t(4,h=!0),t(3,i=!0),async({result:a})=>{switch(a.type){case"success":L.success("Username updated"),await J(),t(3,i=!1);break;case"error":break;default:await G(a)}t(4,h=!1)});return l.$$set=a=>{"form"in a&&t(0,r=a.form),"data"in a&&t(1,s=a.data)},t(2,d=!1),t(3,i=!1),t(4,h=!1),[r,s,d,i,h,p,n]}class de extends X{constructor(e){super(),Z(this,e,oe,le,x,{form:0,data:1})}}export{de as component};
