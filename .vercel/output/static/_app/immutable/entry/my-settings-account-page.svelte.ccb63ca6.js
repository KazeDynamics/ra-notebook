import{S as W,i as X,s as x,k as g,q as k,a as C,y as S,l as _,m as b,r as O,h as c,c as U,z as T,n as u,b as I,F as o,A,g as P,d as V,B as q,Z as L,D as N}from"../chunks/index.2c758050.js";import{e as Q,a as j,i as G}from"../chunks/forms.2ead3416.js";import{I as z}from"../chunks/Input.ffd93c2c.js";import{M as J}from"../chunks/Modal.d893a188.js";import{t as K}from"../chunks/toast.a0f922fa.js";import"../chunks/functions.31e05279.js";function ee(l){let e,t,r,s,d,i,h,p;return t=new z({props:{id:"email",type:"email",label:"Enter your new email address",required:!0,value:l[0]?.data?.email,disabled:l[4],errors:l[0]?.errors?.email}}),{c(){e=g("form"),S(t.$$.fragment),r=C(),s=g("button"),d=k("Change my email"),this.h()},l(n){e=_(n,"FORM",{action:!0,method:!0,class:!0});var a=b(e);T(t.$$.fragment,a),r=U(a),s=_(a,"BUTTON",{type:!0,class:!0});var m=b(s);d=O(m,"Change my email"),m.forEach(c),a.forEach(c),this.h()},h(){u(s,"type","submit"),u(s,"class","btn btn-primary w-full"),s.disabled=l[4],u(e,"action","?/updateEmail"),u(e,"method","POST"),u(e,"class","space-y-2")},m(n,a){I(n,e,a),A(t,e,null),o(e,r),o(e,s),o(s,d),i=!0,h||(p=L(Q.call(null,e,l[5])),h=!0)},p(n,a){const m={};a&1&&(m.value=n[0]?.data?.email),a&16&&(m.disabled=n[4]),a&1&&(m.errors=n[0]?.errors?.email),t.$set(m),(!i||a&16)&&(s.disabled=n[4])},i(n){i||(P(t.$$.fragment,n),i=!0)},o(n){V(t.$$.fragment,n),i=!1},d(n){n&&c(e),q(t),h=!1,p()}}}function te(l){let e,t;return{c(){e=g("span"),t=k("Change Email"),this.h()},l(r){e=_(r,"SPAN",{slot:!0,class:!0});var s=b(e);t=O(s,"Change Email"),s.forEach(c),this.h()},h(){u(e,"slot","trigger"),u(e,"class","btn btn-primary")},m(r,s){I(r,e,s),o(e,t)},p:N,d(r){r&&c(e)}}}function ae(l){let e,t;return{c(){e=g("h3"),t=k("Change Your Email"),this.h()},l(r){e=_(r,"H3",{slot:!0});var s=b(e);t=O(s,"Change Your Email"),s.forEach(c),this.h()},h(){u(e,"slot","heading")},m(r,s){I(r,e,s),o(e,t)},p:N,d(r){r&&c(e)}}}function se(l){let e,t,r,s,d,i,h,p;return t=new z({props:{id:"username",type:"text",label:"Enter your new username",required:!0,value:l[0]?.data?.username,disabled:l[4],errors:l[0]?.errors?.username}}),{c(){e=g("form"),S(t.$$.fragment),r=C(),s=g("button"),d=k("Change my username"),this.h()},l(n){e=_(n,"FORM",{action:!0,method:!0,class:!0});var a=b(e);T(t.$$.fragment,a),r=U(a),s=_(a,"BUTTON",{type:!0,class:!0});var m=b(s);d=O(m,"Change my username"),m.forEach(c),a.forEach(c),this.h()},h(){u(s,"type","submit"),u(s,"class","btn btn-primary w-full"),s.disabled=l[4],u(e,"action","?/updateUsername"),u(e,"method","POST"),u(e,"class","space-y-2")},m(n,a){I(n,e,a),A(t,e,null),o(e,r),o(e,s),o(s,d),i=!0,h||(p=L(Q.call(null,e,l[6])),h=!0)},p(n,a){const m={};a&1&&(m.value=n[0]?.data?.username),a&16&&(m.disabled=n[4]),a&1&&(m.errors=n[0]?.errors?.username),t.$set(m),(!i||a&16)&&(s.disabled=n[4])},i(n){i||(P(t.$$.fragment,n),i=!0)},o(n){V(t.$$.fragment,n),i=!1},d(n){n&&c(e),q(t),h=!1,p()}}}function re(l){let e,t;return{c(){e=g("span"),t=k("Change Username"),this.h()},l(r){e=_(r,"SPAN",{slot:!0,class:!0});var s=b(e);t=O(s,"Change Username"),s.forEach(c),this.h()},h(){u(e,"slot","trigger"),u(e,"class","btn btn-primary")},m(r,s){I(r,e,s),o(e,t)},p:N,d(r){r&&c(e)}}}function ne(l){let e,t;return{c(){e=g("h3"),t=k("Change Your Username"),this.h()},l(r){e=_(r,"H3",{slot:!0});var s=b(e);t=O(s,"Change Your Username"),s.forEach(c),this.h()},h(){u(e,"slot","heading")},m(r,s){I(r,e,s),o(e,t)},p:N,d(r){r&&c(e)}}}function le(l){let e,t,r,s,d,i,h,p,n,a,m,Y,B,D,F,w,R,y,H;return p=new J({props:{label:"change-email",checked:l[2],$$slots:{heading:[ae],trigger:[te],default:[ee]},$$scope:{ctx:l}}}),w=new z({props:{id:"username",label:"Username",value:l[1]?.user?.username,disabled:!0}}),y=new J({props:{label:"change-username",checked:l[3],$$slots:{heading:[ne],trigger:[re],default:[se]},$$scope:{ctx:l}}}),{c(){e=g("div"),t=g("div"),r=g("h3"),s=k("Change Email"),d=C(),i=g("div"),h=C(),S(p.$$.fragment),n=C(),a=g("div"),m=g("h3"),Y=k("Change Username"),B=C(),D=g("div"),F=C(),S(w.$$.fragment),R=C(),S(y.$$.fragment),this.h()},l(f){e=_(f,"DIV",{class:!0});var $=b(e);t=_($,"DIV",{class:!0});var v=b(t);r=_(v,"H3",{class:!0});var M=b(r);s=O(M,"Change Email"),M.forEach(c),d=U(v),i=_(v,"DIV",{class:!0}),b(i).forEach(c),h=U(v),T(p.$$.fragment,v),v.forEach(c),n=U($),a=_($,"DIV",{class:!0});var E=b(a);m=_(E,"H3",{class:!0});var Z=b(m);Y=O(Z,"Change Username"),Z.forEach(c),B=U(E),D=_(E,"DIV",{class:!0}),b(D).forEach(c),F=U(E),T(w.$$.fragment,E),R=U(E),T(y.$$.fragment,E),E.forEach(c),$.forEach(c),this.h()},h(){u(r,"class","text-2xl font-medium"),u(i,"class","divider"),u(t,"class","w-full"),u(m,"class","text-2xl font-medium"),u(D,"class","divider mb-0.5"),u(a,"class","w-full"),u(e,"class","flex flex-col w-full h-full space-y-12")},m(f,$){I(f,e,$),o(e,t),o(t,r),o(r,s),o(t,d),o(t,i),o(t,h),A(p,t,null),o(e,n),o(e,a),o(a,m),o(m,Y),o(a,B),o(a,D),o(a,F),A(w,a,null),o(a,R),A(y,a,null),H=!0},p(f,[$]){const v={};$&4&&(v.checked=f[2]),$&145&&(v.$$scope={dirty:$,ctx:f}),p.$set(v);const M={};$&2&&(M.value=f[1]?.user?.username),w.$set(M);const E={};$&8&&(E.checked=f[3]),$&145&&(E.$$scope={dirty:$,ctx:f}),y.$set(E)},i(f){H||(P(p.$$.fragment,f),P(w.$$.fragment,f),P(y.$$.fragment,f),H=!0)},o(f){V(p.$$.fragment,f),V(w.$$.fragment,f),V(y.$$.fragment,f),H=!1},d(f){f&&c(e),q(p),q(w),q(y)}}}function oe(l,e,t){let{form:r}=e,{data:s}=e,d,i,h;const p=()=>(t(4,h=!0),t(2,d=!0),async({result:a})=>{switch(a.type){case"success":K.success("Email updated"),await G(),t(2,d=!1);break;case"error":break;default:await j(a)}t(4,h=!1)}),n=()=>(t(4,h=!0),t(3,i=!0),async({result:a})=>{switch(a.type){case"success":K.success("Username updated"),await G(),t(3,i=!1);break;case"error":break;default:await j(a)}t(4,h=!1)});return l.$$set=a=>{"form"in a&&t(0,r=a.form),"data"in a&&t(1,s=a.data)},t(2,d=!1),t(3,i=!1),t(4,h=!1),[r,s,d,i,h,p,n]}class de extends W{constructor(e){super(),X(this,e,oe,le,x,{form:0,data:1})}}export{de as default};
