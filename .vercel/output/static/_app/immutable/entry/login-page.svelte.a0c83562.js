import{S as le,i as ne,s as ie,k as v,q as P,a as D,y as G,l as g,m as h,r as L,h as i,c as O,z as J,n as r,b as oe,F as e,A as K,Z as ce,g as Q,d as W,B as X,U as ee,V as te}from"../chunks/index.2c758050.js";import{e as fe}from"../chunks/forms.96d9b83f.js";import{I as re}from"../chunks/Input.ffd93c2c.js";import{t as ae}from"../chunks/toast.a0f922fa.js";import"../chunks/functions.31e05279.js";function se(p){let t,o,l,n,m,c,f;return{c(){t=v("div"),o=v("div"),l=ee("svg"),n=ee("path"),m=D(),c=v("span"),f=P("You must verify your email before you can login."),this.h()},l(b){t=g(b,"DIV",{class:!0});var k=h(t);o=g(k,"DIV",{});var E=h(o);l=te(E,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var a=h(l);n=te(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(n).forEach(i),a.forEach(i),m=O(E),c=g(E,"SPAN",{});var _=h(c);f=L(_,"You must verify your email before you can login."),_.forEach(i),E.forEach(i),k.forEach(i),this.h()},h(){r(n,"stroke-linecap","round"),r(n,"stroke-linejoin","round"),r(n,"stroke-width","2"),r(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"class","stroke-current flex-shrink-0 h-6 w-6"),r(l,"fill","none"),r(l,"viewBox","0 0 24 24"),r(t,"class","alert alert-error shadow-lg w-full max-w-lg")},m(b,k){oe(b,t,k),e(t,o),e(o,l),e(l,n),e(o,m),e(o,c),e(c,f)},d(b){b&&i(t)}}}function ue(p){let t,o,l,n,m,c,f,b,k,E,a,_,S,$,T,A,I,j,q,B,y,z,M,F,N,U;_=new re({props:{type:"email",id:"email",label:"Email",value:p[0]?.data?.email??"",errors:p[0]?.errors?.email,disabled:p[1]}}),$=new re({props:{type:"password",id:"password",label:"Password",errors:p[0]?.errors?.password,disabled:p[1]}});let u=p[0]?.notVerified&&se();return{c(){t=v("div"),o=v("h2"),l=P("Login to your account"),n=D(),m=v("p"),c=P("Or "),f=v("a"),b=P("register"),k=P(" if you don't already have an account."),E=D(),a=v("form"),G(_.$$.fragment),S=D(),G($.$$.fragment),T=D(),A=v("div"),I=v("a"),j=P("Forgot Password?"),q=D(),B=v("div"),y=v("button"),z=P("Login"),M=D(),u&&u.c(),this.h()},l(s){t=g(s,"DIV",{class:!0});var d=h(t);o=g(d,"H2",{class:!0});var V=h(o);l=L(V,"Login to your account"),V.forEach(i),n=O(d),m=g(d,"P",{class:!0});var x=h(m);c=L(x,"Or "),f=g(x,"A",{href:!0,class:!0});var Y=h(f);b=L(Y,"register"),Y.forEach(i),k=L(x," if you don't already have an account."),x.forEach(i),E=O(d),a=g(d,"FORM",{action:!0,method:!0,class:!0});var w=h(a);J(_.$$.fragment,w),S=O(w),J($.$$.fragment,w),T=O(w),A=g(w,"DIV",{class:!0});var C=h(A);I=g(C,"A",{href:!0,class:!0});var H=h(I);j=L(H,"Forgot Password?"),H.forEach(i),C.forEach(i),q=O(w),B=g(w,"DIV",{class:!0});var R=h(B);y=g(R,"BUTTON",{type:!0,class:!0});var Z=h(y);z=L(Z,"Login"),Z.forEach(i),R.forEach(i),M=O(w),u&&u.l(w),w.forEach(i),d.forEach(i),this.h()},h(){r(o,"class","mt-2 text-center text-3xl font-bold tracking-tight text-base-content"),r(f,"href","/register"),r(f,"class","text-primary font-medium hover:cursor-pointer hover:underline"),r(m,"class","text-center mt-1"),r(I,"href","/reset-password"),r(I,"class","font-medium text-primary hover:cursor-pointer hover:underline"),r(A,"class","w-full max-w-lg"),r(y,"type","submit"),r(y,"class","btn btn-primary w-full"),y.disabled=p[1],r(B,"class","w-full max-w-lg pt-2"),r(a,"action","?/login"),r(a,"method","POST"),r(a,"class","flex flex-col items-center space-y-2 w-full pt-4"),r(t,"class","flex flex-col items-center h-full w-full pt-8")},m(s,d){oe(s,t,d),e(t,o),e(o,l),e(t,n),e(t,m),e(m,c),e(m,f),e(f,b),e(m,k),e(t,E),e(t,a),K(_,a,null),e(a,S),K($,a,null),e(a,T),e(a,A),e(A,I),e(I,j),e(a,q),e(a,B),e(B,y),e(y,z),e(a,M),u&&u.m(a,null),F=!0,N||(U=ce(fe.call(null,a,p[2])),N=!0)},p(s,[d]){const V={};d&1&&(V.value=s[0]?.data?.email??""),d&1&&(V.errors=s[0]?.errors?.email),d&2&&(V.disabled=s[1]),_.$set(V);const x={};d&1&&(x.errors=s[0]?.errors?.password),d&2&&(x.disabled=s[1]),$.$set(x),(!F||d&2)&&(y.disabled=s[1]),s[0]?.notVerified?u||(u=se(),u.c(),u.m(a,null)):u&&(u.d(1),u=null)},i(s){F||(Q(_.$$.fragment,s),Q($.$$.fragment,s),F=!0)},o(s){W(_.$$.fragment,s),W($.$$.fragment,s),F=!1},d(s){s&&i(t),X(_),X($),u&&u.d(),N=!1,U()}}}function de(p,t,o){let{form:l}=t,n=!1;const m=()=>(o(1,n=!0),async({result:c,update:f})=>{switch(c.type){case"success":await f();break;case"invalid":ae.error("Invalid credentials"),await f();break;case"error":ae.error(c.error.message);break;default:await f()}o(1,n=!1)});return p.$$set=c=>{"form"in c&&o(0,l=c.form)},[l,n,m]}class _e extends le{constructor(t){super(),ne(this,t,de,ue,ie,{form:0})}}export{_e as default};
